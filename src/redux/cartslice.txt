import {createSlice} from "@reduxjs/toolkit"

const {initialState}={
    users: [],
    loggedInUser:null;
}
const userSlice=createSlice({
    name: "user",
    initialState,
    reducers:{
        signup:(state,action){
            state.users.push({
                ...action.payload,
                phone: " "
                address: " "
            });

        },
        login:(state,action){
            const {username,passwordHash}=action.payload;
            const user=state.user.find(
                u=>
                u.username===username &&
                u.passwordHash===passwordHash
            );
        state.loggedInUser=user? {username:user.username,phone:user.phone,address:user.address}:null;

        },
        logout:(state)=>{
            state.loggedInUser=null;
        }
    }
})